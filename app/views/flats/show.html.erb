















<!--
<%= simple_form_for [@flat, @booking] do |f| %>
  <div data-controller="booking-form" data-booking-form-price-per-night-value="<%= @flat.price %>">
  <%# f.input :start_date, as: :string, label: "Check-in", input_html: { class: "form-control datepicker", placeholder: "DD-MM-YYYY", "data-provide": "datepicker", "data-date-format": "yyyy-mm-dd", "data-date-autoclose": "true", "data-controller": "booking-form", "data-action": "change->booking-form#updateTotalPrice"} %>
  <%# f.input :end_date, as: :string, label: "Check-out", input_html: { class: "form-control datepicker", placeholder: "DD-MM-YYYY", "data-provide": "datepicker", "data-date-format": "yyyy-mm-dd", "data-date-autoclose": "true", "data-controller": "booking-form", "data-action": "change->booking-form#updateTotalPrice"} %>
  <%= f.input :start_date, as: :date, label: "Check-in", input_html: { class: "datepicker" , placeholder: "YYYY-MM-DD", "data-provide": "datepicker", "data-date-format": "yyyy-mm-dd", "data-date-autoclose": "true", "data-booking-form-target": "startDate", "data-action": "change->booking-form#updateTotalPrice"} %>
  <%= f.input :end_date, as: :date, label: "Check-out", input_html: { class: "datepicker", placeholder: "YYYY-MM-DD", "data-provide": "datepicker", "data-date-format": "yyyy-mm-dd", "data-date-autoclose": "true", "data-booking-form-target": "endDate", "data-action": "change->booking-form#updateTotalPrice"} %>



  </div>
<% end %>
-->

<%= form_for [@flat, @booking] do |f| %>
<div data-controller="booking-form" data-booking-form-price-per-night-value="<%= @flat.price %>">
<%=f.label :start_date %>
<%=f.date_field :start_date, "data-booking-form-target": "startDate", "data-action": "change->booking-form#updateTotalPrice"%>
<%=f.label :end_date %>
<%=f.date_field :end_date, "data-booking-form-target": "endDate", "data-action": "change->booking-form#updateTotalPrice"%>
<%# f.date_field :end_date, html: {"data-provide": "datepicker", "data-date-autoclose": "true", "data-booking-form-target": "endDate", "data-action": "change->booking-form#updateTotalPrice"}%>
<%=f.number_field :total_price, value: 0, readonly: true, "data-booking-form-target": "totalPrice" %>
<%= f.button :submit, class: "btn btn-primary" %>
</div>
<% end %>

<%= link_to "Back", flats_path(@flat) %>
